!function(){"use strict";angular.module("llc.archives",["ionic","llc.archives.congregation","llc.archives.sermon","llc.archives.settings","llc.archives.common"]).config(["$stateProvider","$urlRouterProvider",function(t,n){t.state("tab",{url:"/tab","abstract":!0,templateUrl:"templates/tabs.html"}),n.otherwise("/tab/congregations")}]).run(["$rootScope","$ionicLoading","$ionicPlatform",function(t,n,e){t.$on("$stateChangeStart",function(){n.show({template:"Loading..."})}),t.$on("$stateChangeSuccess",function(){n.hide()}),e.ready(function(){window.cordova&&window.cordova.plugins&&window.cordova.plugins.Keyboard&&(cordova.plugins.Keyboard.hideKeyboardAccessoryBar(!0),cordova.plugins.Keyboard.disableScroll(!0)),window.StatusBar&&StatusBar.styleLightContent()})}]).constant("api",{llcArchives:"https://llc-archives.herokuapp.com/api"})}(),function(){"use strict";angular.module("llc.archives.common",[])}(),function(){"use strict";angular.module("llc.archives.congregation",[]).config(["$stateProvider",function(t){t.state("tab.congregations",{url:"/congregations",views:{congregations:{templateUrl:"modules/congregation/congregationList.html",controller:"CongregationListCtrl as congregationListCtrl",resolve:{congregations:["Congregation",function(t){return t.query()}]}}}}).state("tab.congregation",{url:"/congregations/:name",views:{congregations:{templateUrl:"modules/congregation/congregation.html",controller:"CongregationCtrl as congregationCtrl",resolve:{congregation:["Congregation","$stateParams",function(t,n){return t.findByName(n.name)}],sermons:["Sermon","$stateParams",function(t,n){return t.findAllByCongregation(n.name)}]}}}})}])}(),function(){"use strict";function t(t,n){this.congregation=t,this.sermons=n}angular.module("llc.archives.congregation").controller("CongregationCtrl",["congregation","sermons",t])}(),function(){"use strict";function t(t){this.congregations=t}angular.module("llc.archives.congregation").controller("CongregationListCtrl",["congregations",t])}(),function(){"use strict";function t(t,n,e,o){var r=o.llcArchives;return{query:function(){return t.set("sermons",""),t.setObject("congregations",""),n.get(r+"/congregations").then(function(n){return t.setObject("congregations",n.data._embedded.congregations),n.data._embedded.congregations})},findByName:function(n){var o=t.getObject("congregations");return e("filter")(o,{name:n})[0]}}}angular.module("llc.archives.congregation").factory("Congregation",["$localstorage","$http","$filter","api",t])}(),function(){"use strict";angular.module("llc.archives.sermon",[]).config(["$stateProvider",function(t){t.state("tab.sermon",{url:"/congregations/:name/sermons/:index",views:{congregations:{templateUrl:"modules/sermon/sermon.html",controller:"SermonCtrl as sermonCtrl",resolve:{sermon:["Sermon","$stateParams",function(t,n){return t.find(n.name,n.index)}]}}}})}])}(),function(){"use strict";function t(t){this.sermon=t}angular.module("llc.archives.sermon").controller("SermonCtrl",["sermon",t])}(),function(){"use strict";function t(t,n,e){function o(n){return null!=t.get(n+".sermons")}function r(n){return t.getObject(n+".sermons")}function i(n,e){t.setObject(n+".sermons",e._embedded.sermons)}function s(t){return n.get(a+"/congregations/search/findByName?name="+t).then(function(t){return t.data}).then(function(t){return n.get(t._embedded.congregations[0]._links.sermons.href)}).then(function(t){return t.data})}var a=e.llcArchives;return{findAllByCongregation:function(t){return o(t)?r(t):s(t).then(function(n){return i(t,n),r(t)})},find:function(t,n){return r(t)[n]}}}angular.module("llc.archives.sermon").factory("Sermon",["$localstorage","$http","api",t])}(),function(){"use strict";angular.module("llc.archives.settings",[]).config(["$stateProvider",function(t){t.state("tab.settings",{url:"/settings",views:{settings:{templateUrl:"modules/settings/settings.html",controller:"SettingsCtrl as settingsCtrl",resolve:{settings:["Settings",function(t){return t.get()}],congregations:["Congregation",function(t){return t.query()}]}}}})}])}(),function(){"use strict";function t(t,n,e,o,r){this.settings=o,this.congregations=r,this.save=function(){console.log("save",this.settings),e.save(this.settings)}}angular.module("llc.archives.settings").controller("SettingsCtrl",["$scope","$localstorage","Settings","settings","congregations",t])}(),function(){"use strict";function t(t){function n(){var n=t.get("settings");return angular.isDefined(n)&&"undefined"!=n}function e(){return t.getObject("settings")}var o={defaultCongregation:""};return{get:function(){return n()?e():o},save:function(n){t.setObject("settings",n)}}}angular.module("llc.archives.settings").factory("Settings",["$localstorage",t])}(),function(){"use strict";angular.module("llc.archives.common").factory("$localstorage",["$window",function(t){return{set:function(n,e){t.localStorage[n]=e},get:function(n,e){return t.localStorage[n]||e},setObject:function(n,e){t.localStorage[n]=JSON.stringify(e)},getObject:function(n){return JSON.parse(t.localStorage[n]||"{}")}}}])}();